{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext, useState, useEffect } from \"react\";\nimport AuthContext from \"../../../context/auth/authContext\";\nimport { Formik, Form, Field } from \"formik\";\nimport * as Yup from \"yup\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEnvelope, faExclamationTriangle } from \"@fortawesome/free-solid-svg-icons\";\nimport { motion, AnimatePresence } from \"framer-motion\"; // Component import\n\nimport Alert from \"../../utils/Alert\";\nimport OtpForm from \"./OtpForm\";\nconst forgotPasswordValidationSchema = Yup.object({\n  email: Yup.string().required(\"Please enter your registered email id\").email(\"Please enter a valid email id\").trim()\n});\n\nconst EnterEmailForm = props => {\n  const authContext = useContext(AuthContext);\n  const {\n    0: showForm,\n    1: setShowForm\n  } = useState(true);\n  const {\n    user,\n    validateEmail,\n    authError,\n    generateOtp,\n    sendOtpByEmail\n  } = authContext;\n  useEffect(() => {\n    if (user) {\n      generateOtp(user.id, user.email);\n      sendOtpByEmail(user.email);\n      setShowForm(false);\n    }\n  }, [user]);\n  return __jsx(AnimatePresence, {\n    exitBeforeEnter: true\n  }, showForm ? __jsx(motion.div, {\n    key: \"form\",\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0,\n      transition: {\n        duration: 0.3\n      }\n    }\n  }, __jsx(\"div\", {\n    className: \"flex justify-center\"\n  }, __jsx(\"img\", {\n    src: \"/images/forgotpassword/forgot-password.svg\",\n    alt: \"Forgot Password\",\n    height: \"200px\",\n    width: \"200px\"\n  })), __jsx(\"div\", {\n    className: \"mt-4 pl-4 pr-4\"\n  }, __jsx(\"p\", {\n    className: \" text-gray-600\"\n  }, \"Forgot your password? No worries! Let's quickly reset it.\")), __jsx(\"div\", {\n    className: \"text-center mt-6 pl-4 pr-4\"\n  }, __jsx(\"h2\", {\n    className: \" text-brand-gray font-semibold text-xl mb-4\"\n  }, \"Enter your registered email address\")), __jsx(Alert, {\n    authError: authError,\n    alertTheme: props.alertTheme\n  }), __jsx(\"div\", {\n    className: \"mt-3 w-full pl-4 pr-4\"\n  }, __jsx(Formik, {\n    initialValues: {\n      email: \"\"\n    },\n    validationSchema: forgotPasswordValidationSchema,\n    onSubmit: (values, {\n      setSubmitting\n    }) => {\n      setSubmitting(true);\n      validateEmail(values.email);\n      setSubmitting(false);\n    }\n  }, props => __jsx(Form, null, __jsx(\"div\", {\n    className: `\"relative border-2 rounded-md \" ${props.touched.email && props.errors.email ? \"mb-1 border-red-800\" : \"mb-6 border-gray-300\"}`\n  }, __jsx(FontAwesomeIcon, {\n    icon: faEnvelope,\n    className: \"inline align-middle fill-current text-gray-600 text-lg opacity-50 ml-2\"\n  }), __jsx(Field, {\n    id: \"email\",\n    name: \"email\",\n    type: \"text\",\n    placeholder: \"Email\",\n    maxLength: \"50\",\n    autoComplete: \"off\",\n    autoFocus: true,\n    className: \"textbox-input w-10/12 placeholder-purple-900 placeholder-opacity-50\"\n  })), props.touched.email && props.errors.email ? __jsx(\"div\", {\n    className: \" text-xs text-red-800 p-1 mb-2\"\n  }, __jsx(FontAwesomeIcon, {\n    icon: faExclamationTriangle\n  }), \" \", props.errors.email) : null, __jsx(\"div\", {\n    className: \"text-center\"\n  }, __jsx(motion.button, {\n    type: \"submit\",\n    className: \"w-48 h-12 bg-purple-500 text-white  font-bold rounded-md uppercase tracking-wide focus:outline-none\",\n    whileTap: {\n      backgroundColor: \"#D6BCFA\",\n      color: \"#550052\",\n      y: \"5px\",\n      boxShadow: \"0px 8px 15px rgba(270, 90, 56, 0.15)\"\n    }\n  }, \"Validate Email\")))))) : __jsx(motion.div, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    transition: {\n      duration: 0.3\n    },\n    className: \"flex justify-center items-center min-h-screen\"\n  }, __jsx(OtpForm, {\n    user: user,\n    alertTheme: props.alertTheme\n  })));\n};\n\nexport default EnterEmailForm;","map":null,"metadata":{},"sourceType":"module"}