_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{"Hhg+":function(e,t,a){"use strict";var r=a("q1tI"),o=a.n(r),s=a("YFqc"),i=a.n(s),n=a("ZMKu"),l=o.a.createElement;t.a=function(){return l("div",null,l("div",{className:"w-full z-50 absolute"},l(n.b.div,{className:"absolute top-0 left-0 ml-2 lg:ml-4 lg:pl-4",initial:{y:"-100vh"},animate:{y:0},transition:{duration:1,delay:.2,type:"tween"}},l(i.a,{href:"/"},l("a",null,l("img",{src:"/brand.svg",alt:"Logo for the NXT Door Deals brand",className:"w-24 h-24 xl:w-28 xl:h-28 z-50"}))))))}},IPQT:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forgotpassword",function(){return a("vbb2")}])},vbb2:function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),o=a.n(r),s=a("IYH+"),i=a("KYPV"),n=a("UGp+"),l=a("IP2g"),c=a("wHSu"),d=a("ZMKu"),p=a("lski"),m=a("nOHt"),u=a.n(m),x=o.a.createElement,b=function(){return x("div",null,x("div",{className:"flex justify-center"},x("img",{src:"/images/forgotpassword/password-changed.svg",alt:"Password changed",height:"200px",width:"200px"})),x("div",{className:"text-center mt-6"},x("p",{className:"text-gray-600"},"Woohoo! You successfully changed your password.")),x("div",{className:"text-center mt-6"},x(d.b.button,{className:"w-48 h-12 bg-purple-500 text-white  font-bold rounded-md uppercase tracking-wide focus:outline-none",whileTap:{backgroundColor:"#D6BCFA",color:"#550052",y:"5px",boxShadow:"0px 8px 15px rgba(270, 90, 56, 0.15)"},onClick:function(){u.a.push("/login")}},"Login")))},f=o.a.createElement,h=n.a({password:n.c().required("Please enter a password").min(8,"Your password should have at least 8 characters").trim(),confirmPassword:n.c().oneOf([n.b("password"),null],"Passwords must match").trim()}),g=function(e){var t=Object(r.useState)(!1),a=t[0],o=t[1],n=Object(r.useState)(!1),p=n[0],m=n[1],u=Object(r.useState)(!0),x=u[0],g=u[1],w=Object(r.useContext)(s.a),y=w.passwordChanged,N=w.updatePassword;Object(r.useEffect)((function(){y&&g(!1)}),[y]);var v=function(){o(!a)},P=function(){m(!p)};return f(d.a,{exitBeforeEnter:!0},x?f(d.b.div,{key:"form3",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.3}}},f("div",{className:"flex justify-center"},f("img",{src:"/images/forgotpassword/password.svg",alt:"Update password",height:"200px",width:"200px"})),f("div",{className:"text-center mt-6 pl-2 pr-2"},f("p",{className:"text-gray-600"},"Time to think of a new super secret password.")),f("div",{className:"text-center mt-6"},f("h2",{className:"font-semibold text-brand-gray text-xl mb-4"},"Enter your new password")),f("div",{className:"mt-3 w-full pl-2 pr-2"},f(i.c,{initialValues:{password:"",confirmPassword:""},validationSchema:h,onSubmit:function(t,a){var r=a.setSubmitting;r(!0),N(t.password,e.user.id),r(!1)}},(function(e){return f(i.b,null,f("div",{className:'"flex items-center justify-center border-2 rounded-md " '.concat(e.touched.password&&e.errors.password?"mb-1 border-red-800":"mb-6 border-gray-300")},f(l.a,{icon:c.n,className:"inline align-middle fill-current text-gray-600 text-lg opacity-50 ml-4"}),f(i.a,{id:"password",name:"password",type:a?"text":"password",placeholder:"Password*",maxLength:"50",autoComplete:"off",autoFocus:"",className:"textbox-input w-10/12 placeholder-purple-900 placeholder-opacity-50"}),f(l.a,{icon:a?c.k:c.j,className:"text-sm align-middle top-0 right-0 opacity-50 cursor-pointer",onClick:v,"aria-label":a?"Hide Password":"Show Password"})),e.touched.password&&e.errors.password?f("div",{className:"font-axiforma text-xs text-red-800 p-1 mb-2"},f(l.a,{icon:c.i})," ",e.errors.password):null,f("div",{className:'"flex items-center justify-center border-2 rounded-md " '.concat(e.touched.confirmPassword&&e.errors.confirmPassword?"mb-1 border-red-800":"mb-6 border-gray-300")},f(l.a,{icon:c.n,className:"inline align-middle fill-current text-gray-600 text-lg opacity-50 ml-4"}),f(i.a,{id:"confirmPassword",name:"confirmPassword",type:p?"text":"password",placeholder:"Confirm Password*",maxLength:"50",autoComplete:"off",autoFocus:"",className:"textbox-input w-10/12 placeholder-purple-900 placeholder-opacity-50"}),f(l.a,{icon:p?c.k:c.j,className:"text-sm align-middle top-0 right-0 opacity-50 cursor-pointer",onClick:P,"aria-label":p?"Hide Password":"Show Password"})),e.touched.confirmPassword&&e.errors.confirmPassword?f("div",{className:"font-axiforma text-xs text-red-800 p-1 mb-2"},f(l.a,{icon:c.i})," ",e.errors.confirmPassword):null,f("div",{className:"text-center"},f(d.b.button,{type:"submit",className:"w-48 h-12 bg-purple-500 text-white  font-bold rounded-md uppercase tracking-wide focus:outline-none",whileTap:{backgroundColor:"#D6BCFA",color:"#550052",y:"5px",boxShadow:"0px 8px 15px rgba(270, 90, 56, 0.15)"}},"Update Password")))})))):f(d.b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex justify-center items-center min-h-screen"},f(b,null)))},w=o.a.createElement,y=n.a({otp1:n.c().required(),otp2:n.c().required(),otp3:n.c().required(),otp4:n.c().required(),otp5:n.c().required(),otp6:n.c().required()}),N=function(e){var t=Object(r.useContext)(s.a),a=Object(r.useState)(!0),o=a[0],n=a[1],l=t.validateOtp,c=t.authError,m=t.otpValidated;return Object(r.useEffect)((function(){m&&n(!1)}),[m]),w(d.a,{exitBeforeEnter:!0,initial:!1},o?w(d.b.div,{key:"form2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.3}}},w("div",{className:"flex justify-center"},w("img",{src:"/images/forgotpassword/otp.svg",alt:"Otp sent",height:"200px",width:"200px"})),w("div",{className:"text-center mt-6 pl-4 pr-4"},w("p",{className:"text-gray-600"},"We have sent a one-time password (OTP) to your email id,"," ",w("span",{className:"font-bold text-purple-600"},e.user.email),". Please enter the six-character OTP below. The OTP is valid for"," ",w("span",{className:"font-semibold"},"10 minutes only"),"."," ")),w("div",{className:"text-center mt-6"},w("h2",{className:"font-semibold text-brand-gray text-xl mb-4"},"Enter the OTP")),w("div",{className:"flex justify-center items-center w-full"},w(p.a,{authError:c,alertTheme:e.alertTheme})),w("div",{className:"mt-3 w-full"},w(i.c,{initialValues:{otp1:"",otp2:"",otp3:"",otp4:"",otp5:"",otp6:""},validationSchema:y,onSubmit:function(t,a){var r=a.setSubmitting;r(!0),l(e.user.id,t.otp1+t.otp2+t.otp3+t.otp4+t.otp5+t.otp6),r(!1)}},(function(e){return w(i.b,null,w("div",{className:"flex justify-center mb-4"},w(i.a,{id:"otp1",name:"otp1",type:"text",placeholder:"",maxLength:"1",className:e.touched.otp1&&e.errors.otp1?"border-red-800 otp-text":"border-gray-300 otp-text"}),w(i.a,{id:"otp2",name:"otp2",type:"text",placeholder:"",maxLength:"1",className:e.touched.otp2&&e.errors.otp2?"border-red-800 otp-text":"border-gray-300 otp-text"}),w(i.a,{id:"otp3",name:"otp3",type:"text",placeholder:"",maxLength:"1",className:e.touched.otp3&&e.errors.otp3?"border-red-800 otp-text":"border-gray-300 otp-text"}),w(i.a,{id:"otp4",name:"otp4",type:"text",placeholder:"",maxLength:"1",className:e.touched.otp4&&e.errors.otp4?"border-red-800 otp-text":"border-gray-300 otp-text"}),w(i.a,{id:"otp5",name:"otp5",type:"text",placeholder:"",maxLength:"1",className:e.touched.otp5&&e.errors.otp5?"border-red-800 otp-text":"border-gray-300 otp-text"}),w(i.a,{id:"otp6",name:"otp6",type:"text",placeholder:"",maxLength:"1",className:e.touched.otp6&&e.errors.otp6?"border-red-800 otp-text":"border-gray-300 otp-text"})),w("div",{className:"text-center"},w(d.b.button,{type:"submit",className:"w-48 h-12 bg-purple-500 text-white  font-bold rounded-md uppercase tracking-wide focus:outline-none",whileTap:{backgroundColor:"#D6BCFA",color:"#550052",y:"5px",boxShadow:"0px 8px 15px rgba(270, 90, 56, 0.15)"}},"Validate OTP")))})))):w(d.b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex justify-center items-center min-h-screen"},w(g,{user:e.user})))},v=o.a.createElement,P=n.a({email:n.c().required("Please enter your registered email id").email("Please enter a valid email id").trim()}),E=function(e){var t=Object(r.useContext)(s.a),a=Object(r.useState)(!0),o=a[0],n=a[1],m=t.user,u=t.validateEmail,x=t.authError,b=t.generateOtp,f=t.sendOtpByEmail;return Object(r.useEffect)((function(){m&&(b(m.id,m.email),f(m.email),n(!1))}),[m]),v(d.a,{exitBeforeEnter:!0},o?v(d.b.div,{key:"form",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.3}}},v("div",{className:"flex justify-center"},v("img",{src:"/images/forgotpassword/forgot-password.svg",alt:"Forgot Password",height:"200px",width:"200px"})),v("div",{className:"mt-4 pl-4 pr-4"},v("p",{className:" text-gray-600"},"Forgot your password? No worries! Let's quickly reset it.")),v("div",{className:"text-center mt-6 pl-4 pr-4"},v("h2",{className:" text-brand-gray font-semibold text-xl mb-4"},"Enter your registered email address")),v(p.a,{authError:x,alertTheme:e.alertTheme}),v("div",{className:"mt-3 w-full pl-4 pr-4"},v(i.c,{initialValues:{email:""},validationSchema:P,onSubmit:function(e,t){var a=t.setSubmitting;a(!0),u(e.email),a(!1)}},(function(e){return v(i.b,null,v("div",{className:'"relative border-2 rounded-md " '.concat(e.touched.email&&e.errors.email?"mb-1 border-red-800":"mb-6 border-gray-300")},v(l.a,{icon:c.h,className:"inline align-middle fill-current text-gray-600 text-lg opacity-50 ml-2"}),v(i.a,{id:"email",name:"email",type:"text",placeholder:"Email",maxLength:"50",autoComplete:"off",autoFocus:!0,className:"textbox-input w-10/12 placeholder-purple-900 placeholder-opacity-50"})),e.touched.email&&e.errors.email?v("div",{className:" text-xs text-red-800 p-1 mb-2"},v(l.a,{icon:c.i})," ",e.errors.email):null,v("div",{className:"text-center"},v(d.b.button,{type:"submit",className:"w-48 h-12 bg-purple-500 text-white  font-bold rounded-md uppercase tracking-wide focus:outline-none",whileTap:{backgroundColor:"#D6BCFA",color:"#550052",y:"5px",boxShadow:"0px 8px 15px rgba(270, 90, 56, 0.15)"}},"Validate Email")))})))):v(d.b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex justify-center items-center min-h-screen"},v(N,{user:m,alertTheme:e.alertTheme})))},j=a("Hhg+"),T=o.a.createElement;t.default=function(){return T("div",{className:"bg-forgot-password-background bg-cover bg-no-repeat bg-fixed -z-20 font-axiforma"},T(j.a,null),T("div",{className:"flex justify-center items-center min-h-screen"},T(E,{alertTheme:"bg-purple-200 text-brand-purple"})))}}},[["IPQT",0,1,3,5,2,4,6]]]);